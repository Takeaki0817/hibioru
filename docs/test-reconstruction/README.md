# ãƒ†ã‚¹ãƒˆå†æ§‹ç¯‰ãƒ¬ãƒãƒ¼ãƒˆ

## æ¦‚è¦

ä»•æ§˜æ›¸ãƒ™ãƒ¼ã‚¹ã§ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¨E2Eãƒ†ã‚¹ãƒˆã‚’å‰Šé™¤ãƒ»å†ä½œæˆã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€‚

## å®Œäº†ãƒ•ã‚§ãƒ¼ã‚º

| ãƒ•ã‚§ãƒ¼ã‚º | å†…å®¹ | çŠ¶æ…‹ |
|---------|------|------|
| 1 | ãƒ–ãƒ©ãƒ³ãƒä½œæˆãƒ»æ—¢å­˜ãƒ†ã‚¹ãƒˆå‰Šé™¤ | âœ… å®Œäº† |
| 1.5 | billingä»•æ§˜è£œå®Œ | âœ… å®Œäº† |
| 2 | ã‚®ãƒ£ãƒƒãƒ—åˆ†æï¼ˆ8æ©Ÿèƒ½ï¼‰ | âœ… å®Œäº† |
| 3 | ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªä½œæˆï¼ˆ8æ©Ÿèƒ½ï¼‰ | âœ… å®Œäº† |
| 4 | ãƒ†ã‚¹ãƒˆä½œæˆï¼ˆ8æ©Ÿèƒ½ï¼‰ | âœ… å®Œäº† |
| 5 | ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»ä¿®æ­£ | ğŸ”„ é€²è¡Œä¸­ |

## ä½œæˆç‰©

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|---------|------|
| `gap-analysis-*.md` (8ãƒ•ã‚¡ã‚¤ãƒ«) | å„æ©Ÿèƒ½ã®ã‚®ãƒ£ãƒƒãƒ—åˆ†æãƒ¬ãƒãƒ¼ãƒˆ |
| `test-scenarios-*.md` (8ãƒ•ã‚¡ã‚¤ãƒ«) | å„æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª |

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆ26ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

| æ©Ÿèƒ½ | ãƒ•ã‚¡ã‚¤ãƒ«æ•° | ãƒ‘ã‚¹ |
|------|----------|------|
| auth | 3 | `src/features/auth/__tests__/`, `stores/__tests__/` |
| entry | 5 | `src/features/entry/api/__tests__/`, `hooks/__tests__/`, `stores/__tests__/` |
| timeline | 4 | `src/features/timeline/api/__tests__/`, `hooks/__tests__/`, `stores/__tests__/` |
| streak | 1 | `src/features/streak/api/__tests__/` |
| hotsure | 1 | `src/features/hotsure/api/__tests__/` |
| notification | 5 | `src/features/notification/api/__tests__/`, `hooks/__tests__/` |
| social | 4 | `src/features/social/__tests__/`, `api/__tests__/`, `hooks/__tests__/` |
| billing | 3 | `src/features/billing/__tests__/`, `api/__tests__/` |

### E2Eãƒ†ã‚¹ãƒˆï¼ˆ8ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|---------|------|
| `e2e/auth.spec.ts` | èªè¨¼ãƒ•ãƒ­ãƒ¼ |
| `e2e/entry.spec.ts` | æŠ•ç¨¿ä½œæˆãƒ»ç·¨é›†ãƒ»å‰Šé™¤ |
| `e2e/timeline.spec.ts` | ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³è¡¨ç¤º |
| `e2e/streak.spec.ts` | ã‚¹ãƒˆãƒªãƒ¼ã‚¯è¡¨ç¤º |
| `e2e/hotsure.spec.ts` | ã»ã¤ã‚Œè¡¨ç¤º |
| `e2e/notification.spec.ts` | é€šçŸ¥è¨­å®š |
| `e2e/social.spec.ts` | ã‚½ãƒ¼ã‚·ãƒ£ãƒ«æ©Ÿèƒ½ |
| `e2e/billing.spec.ts` | èª²é‡‘ãƒ»ãƒ—ãƒ©ãƒ³ |

## ãƒ†ã‚¹ãƒˆå®Ÿè¡Œçµæœï¼ˆãƒ•ã‚§ãƒ¼ã‚º5ï¼‰

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ

```
Test Suites: 10 failed, 16 passed (26 total)
Tests:       79 failed, 297 passed (376 total)
æˆåŠŸç‡: 78.9%
```

### ä¸»ãªå¤±æ•—åŸå› 

1. **Supabaseãƒ¢ãƒƒã‚¯è¨­å®šä¸è¶³**
   - ãƒã‚§ãƒ¼ãƒ³ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆ`.select().eq().single()`ï¼‰ã®ãƒ¢ãƒƒã‚¯ä¸å®Œå…¨
   - å¯¾ç­–: ãƒ¢ãƒƒã‚¯ãƒ•ã‚¡ã‚¯ãƒˆãƒªã®æ”¹å–„ãŒå¿…è¦

2. **éåŒæœŸãƒ†ã‚¹ãƒˆã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ**
   - Promiseã®è§£æ±ºå¾…ã¡ã§5ç§’è¶…é
   - å¯¾ç­–: ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå»¶é•·ã¾ãŸã¯ãƒ¢ãƒƒã‚¯æ”¹å–„

3. **å‹ã®ä¸ä¸€è‡´**
   - å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆã§æœŸå¾…ã™ã‚‹å‹ãŒç•°ãªã‚‹
   - å¯¾ç­–: å®Ÿè£…ã«åˆã‚ã›ã¦ãƒ†ã‚¹ãƒˆã‚’ä¿®æ­£

## ç™ºè¦‹ã•ã‚ŒãŸCriticalã‚®ãƒ£ãƒƒãƒ—

| æ©Ÿèƒ½ | ã‚®ãƒ£ãƒƒãƒ— | å¯¾å¿œ |
|------|---------|------|
| hotsure | æ—¥ä»˜åˆ¤å®šãŒUTCï¼ˆJSTã§ã¯ãªã„ï¼‰ | è¦ä¿®æ­£ |
| social | ãŠç¥ã„ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥å‘¼ã³å‡ºã—æ¼ã‚Œ | è¦ä¿®æ­£ |
| entry | æ—¥æ¬¡æŠ•ç¨¿åˆ¶é™ã®ä¸ä¸€è‡´ï¼ˆ15 vs 20ï¼‰ | è¦ç¢ºèª |
| timeline | é•·æŠ¼ã—ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼æœªå®Ÿè£… | è¦åˆ¤æ–­ |

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. **ãƒ†ã‚¹ãƒˆä¿®æ­£**
   - Supabaseãƒ¢ãƒƒã‚¯ãƒ•ã‚¡ã‚¯ãƒˆãƒªã®ä½œæˆ
   - å¤±æ•—ãƒ†ã‚¹ãƒˆã®å€‹åˆ¥ä¿®æ­£

2. **Criticalã‚®ãƒ£ãƒƒãƒ—ã®ä¿®æ­£**
   - hotsure: UTCâ†’JSTä¿®æ­£
   - social: ãƒ—ãƒƒã‚·ãƒ¥é€šçŸ¥å‘¼ã³å‡ºã—è¿½åŠ 

3. **E2Eãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**
   - é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
   - Playwrightãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

## Gitå±¥æ­´

```
a34d196 fix: ãƒ†ã‚¹ãƒˆã®vitestâ†’Jestä¿®æ­£
9bc5016 test: E2Eãƒ†ã‚¹ãƒˆæ–°è¦ä½œæˆï¼ˆ8æ©Ÿèƒ½ï¼‰
12eff62 test: ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆæ–°è¦ä½œæˆï¼ˆ8æ©Ÿèƒ½ï¼‰
847cf20 docs: ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªï¼ˆ8æ©Ÿèƒ½ï¼‰
c8d4a26 docs: ã‚®ãƒ£ãƒƒãƒ—åˆ†æãƒ¬ãƒãƒ¼ãƒˆ
d6d22f7 docs(billing): ä»•æ§˜æ›¸è£œå®Œï¼ˆdesign.md/tasks.mdä½œæˆï¼‰
fe84d42 chore: æ—¢å­˜ãƒ†ã‚¹ãƒˆå‰Šé™¤ï¼ˆãƒ†ã‚¹ãƒˆå†æ§‹ç¯‰æº–å‚™ï¼‰
```

## å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

```bash
# ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆï¼ˆæ–°è¦ä½œæˆåˆ†ã®ã¿ï¼‰
pnpm test -- "src/features"

# E2Eãƒ†ã‚¹ãƒˆ
pnpm exec playwright test

# ã‚«ãƒãƒ¬ãƒƒã‚¸
pnpm test:coverage
```
