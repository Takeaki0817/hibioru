# Entry-Input機能 E2Eテストプラン

## 概要
入力/編集機能の包括的なE2Eテスト計画。テキスト入力、画像添付、下書き保存、編集、削除をカバー。

## テストスイート

### 1. テキスト入力 (Requirement 1) - 6テスト
| テスト名 | ステップ | 期待結果 | 要件 |
|---------|---------|---------|------|
| 新規入力ページ表示 | /new にアクセス | 入力エリア、送信ボタン表示 | 1-AC1 |
| テキスト入力 | テキストを入力 | 入力内容が反映 | 1-AC2 |
| 絵文字1文字で有効 | "😊"を入力 | 送信ボタン有効 | 1-AC3 |
| 空入力で無効 | 空白のみ入力 | 送信ボタン無効 | 1-AC6 |
| 文字数カウンター非表示 | テキスト入力 | カウンター表示なし | 1-AC5 |
| 投稿成功→リダイレクト | 送信クリック | /timelineにリダイレクト | 1-AC7 |

### 2. 画像添付 (Requirement 2) - 4テスト
| テスト名 | ステップ | 期待結果 | 要件 |
|---------|---------|---------|------|
| 画像添付ボタン表示 | /new にアクセス | 画像添付ボタン表示 | 2-AC1 |
| 画像選択→プレビュー | 画像ファイル選択 | プレビュー表示、サイズ情報 | 2-AC2,3 |
| 画像削除 | 削除ボタンクリック | プレビュー削除 | - |
| 2枚まで添付可能 | 2枚添付 | 正常動作 | 2-AC4 |

### 3. 下書き自動保存 (Requirement 3) - 3テスト
| テスト名 | ステップ | 期待結果 | 要件 |
|---------|---------|---------|------|
| 自動保存 | テキスト入力後待機 | localStorage保存 | 3-AC1 |
| 下書き復元 | 下書きあり→/new | 内容復元 | 3-AC2 |
| 投稿後に下書き削除 | 送信成功 | localStorage削除 | 3-AC3 |

### 4. 記録の編集 (Requirement 4) - 4テスト
| テスト名 | ステップ | 期待結果 | 要件 |
|---------|---------|---------|------|
| 編集ページ表示 | /edit/[id] にアクセス | 既存内容表示 | 4-AC1 |
| 編集保存 | 内容変更→保存 | 更新成功 | 4-AC3 |
| 24時間後編集不可 | 24時間後にアクセス | エラーメッセージ | 4-AC4 |
| 編集成功→リダイレクト | 保存成功 | /timelineにリダイレクト | 4-AC8 |

### 5. 投稿制限 (Requirement 5) - 2テスト
| テスト名 | ステップ | 期待結果 | 要件 |
|---------|---------|---------|------|
| 制限前は投稿可能 | 通常投稿 | 成功 | - |
| 20件超過時エラー | 21件目投稿 | エラーメッセージ | 5-AC1,2 |

### 6. 記録の削除 (Requirement 6) - 2テスト
| テスト名 | ステップ | 期待結果 | 要件 |
|---------|---------|---------|------|
| 削除確認ダイアログ | 削除選択 | ダイアログ表示 | 6-AC1 |
| 削除実行 | 確認→削除 | 論理削除、非表示 | 6-AC2,3 |

## 合計: 21テストケース
