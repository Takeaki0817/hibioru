# Notification機能 E2Eテストプラン

## 概要
プッシュ通知機能の包括的なE2Eテスト計画。通知設定、購読管理をカバー。

## テストスイート

### 1. 通知設定UI (Requirement 2) - 5テスト
| テスト名 | ステップ | 期待結果 | 要件 |
|---------|---------|---------|------|
| 通知設定セクション表示 | /social にアクセス | 通知設定セクション表示 | 2-AC6 |
| 5つのリマインド設定 | 設定確認 | 最大5つの時刻設定 | 2-AC1 |
| 時刻選択 | 時刻変更 | 00:00〜23:59選択可能 | 2-AC2 |
| 有効/無効トグル | トグル操作 | オン/オフ切替 | 2-AC2 |
| 設定即時保存 | 設定変更 | DB即時反映 | 2-AC5 |

### 2. 通知購読管理 (Requirement 1) - 4テスト
| テスト名 | ステップ | 期待結果 | 要件 |
|---------|---------|---------|------|
| 通知オン→許可ダイアログ | 通知オン | ブラウザ許可ダイアログ | 1-AC1 |
| 許可→購読登録 | 許可承諾 | 購読情報保存 | 1-AC2 |
| 通知オフ→購読解除 | 通知オフ | 購読情報削除 | 1-AC4 |
| 非対応ブラウザ | 非対応時 | 非対応メッセージ | 1-AC6 |

### 3. 通知状態表示 (UIベース) - 3テスト
| テスト名 | ステップ | 期待結果 | 要件 |
|---------|---------|---------|------|
| 通知許可状態表示 | /social確認 | 現在の許可状態表示 | - |
| 許可拒否時の案内 | 拒否状態 | ブラウザ設定案内 | - |
| 登録済みデバイス表示 | 複数デバイス | 登録状況確認可能 | - |

## 合計: 12テストケース

## 注意事項
- Web Push APIはブラウザ依存
- Notification.permission のモックが必要
- 実際の通知送信はE2Eでは困難（APIテスト推奨）
