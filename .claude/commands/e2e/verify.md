# E2E検証: 機能単位の仕様検証

指定された機能のE2Eテストを実行し、仕様との整合性を検証します。

## 引数
- `$ARGUMENTS`: 検証する機能名（auth, timeline, entry-input, streak, mypage, notification）

## 実行手順

### 1. 仕様の読み込み
以下のファイルから該当機能の仕様を読み込んでください：
- `.kiro/specs/$ARGUMENTS/requirements.md` - 要件定義
- `.kiro/specs/$ARGUMENTS/design.md` - 設計書
- `.kiro/specs/$ARGUMENTS/tasks.md` - 実装タスク
- `docs/REQUIREMENTS.md` - 全体要件（関連セクション）

### 2. 既存テストの確認
`e2e/` ディレクトリから該当機能のテストファイルを探してください：
- `e2e/$ARGUMENTS.spec.ts` または関連ファイル

### 3. E2Eテストの実行
Playwright Test MCP または以下のコマンドでテストを実行：
```bash
npx playwright test e2e/$ARGUMENTS.spec.ts --reporter=list
```

### 4. 結果の分析
テスト結果を分析し、以下の形式でレポートしてください：

```markdown
## E2E検証レポート: [機能名]

### 実行結果
- 総テスト数: X
- 成功: X
- 失敗: X
- スキップ: X

### 検証項目と結果
| # | 仕様要件 | テスト | 結果 | 備考 |
|---|----------|--------|------|------|
| 1 | [要件] | [テスト名] | ✅/❌ | [詳細] |

### 仕様カバレッジ
- カバー済み: X件
- 未カバー: X件
- 要追加テスト: [リスト]

### 検出された問題
1. [問題の説明]
   - 原因: [推定原因]
   - 修正方針: [提案]

### 推奨アクション
- [ ] [アクション1]
- [ ] [アクション2]
```

### 5. 次のステップ提案
- テストが失敗した場合: `/e2e:fix $ARGUMENTS` を提案
- テストが不足している場合: `/e2e:generate $ARGUMENTS` を提案
- 全て成功した場合: 次の機能の検証を提案

## 対応機能一覧
| 機能 | 説明 | 主要な検証項目 |
|------|------|----------------|
| auth | 認証機能 | ログイン、リダイレクト、エラー処理 |
| timeline | タイムライン/カレンダー | 投稿表示、日付操作、スクロール |
| entry-input | 入力/編集 | 新規作成、編集、画像添付、下書き |
| streak | ストリーク | 継続記録、ほつれ、日付リセット |
| mypage | マイページ | プロフィール、設定、ログアウト |
| notification | 通知 | 通知設定、プッシュ通知 |

## 注意事項
- 開発サーバーが起動していることを確認してください（http://localhost:3000）
- Supabaseローカル環境が起動していることを確認してください
- テスト実行前にブラウザがインストールされているか確認（`npx playwright install`）
